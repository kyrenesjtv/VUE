<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<!-- 开发环境版本，包含了有帮助的命令行警告 -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>


<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<!--<div id = "app">-->
    <!--<table>-->
        <!--<tbody>-->
            <!--&lt;!&ndash;  bug 1 <tr is="row"></tr> &lt;!&ndash; 将row绑定到tr ? 是不是相当于替代这个标签。  在table标签里面可能会出现 无法解析row。然后会把row解析成跟table同级的 &ndash;&gt;&ndash;&gt;-->
            <!--&lt;!&ndash;<tr is="row"></tr>&ndash;&gt;-->
            <!--&lt;!&ndash;<tr is="row"></tr>&ndash;&gt;-->
            <!--<tr is="row"></tr>-->
            <!--<tr is="row"></tr>-->
            <!--<tr is="row"></tr>-->
        <!--</tbody>-->
    <!--</table>-->
<!--</div>-->

<!--<script>-->
<!--//这是一个子组件 , 子组件里面不能直接定义data,必须要定义一个function-->
    <!--Vue.component('row',{-->
        <!--data :function () {-->
            <!--return{-->
                <!--content :'this is a row'-->
            <!--}-->
        <!--},-->
        <!--template: '<tr><rd>{{content}} </rd></tr>>'-->

    <!--});-->

    <!--var app = new Vue({-->
        <!--el : '#app'-->
    <!--});-->


<!--</script>-->



<!-- 普通标签引用 -->
<!--<div id = "app">-->
    <!--<div-->
            <!--ref='hello'-->
            <!--@click="handleClick"-->
    <!--&gt; hello world &lt;!&ndash; ref相当于id? &ndash;&gt;-->
    <!--</div>-->
<!--</div>-->

<!--<script>-->

    <!--var app = new Vue({-->
        <!--el : '#app',-->
        <!--methods :{-->
            <!--handleClick:function () {-->
                <!--console.log(this.$refs.hello.innerHTML);-->
            <!--}-->
        <!--}-->
    <!--});-->


<!--</script>-->


<!-- 子组件向父组件传值 以及组件使用ref -->
<div id = "app">
    <counter  ref="one" @change="handleChange"></counter>
    <counter  ref="tow" @change="handleChange"></counter>
    <div>{{total}}</div>
</div>

<script>

    Vue.component('counter',{
       data:function () {
           return{
               number :0
           }
       },
        template :'<div @click="handleClick"> {{number}}</div>',
        methods:{
            handleClick :function () {
                this.number++;
                this.$emit('change');//出发change事件
            }
        }
    });

    var app = new Vue({
        el : '#app',
        data:{
            total:0
        },
        methods:{
            handleChange:function () {
                this.total = this.$refs.one.number + this.$refs.tow.number;
            }
        }
    });


</script>



</body>

</html>